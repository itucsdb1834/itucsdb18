

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Parts Implemented by Cagla &mdash; ITUCSDB1834  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Parts Implemented by Idil" href="idil.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> ITUCSDB1834
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#database-design">Database Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#database-distribution">Database Distribution</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#code">Code</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="idil.html">Parts Implemented by Idil</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Parts Implemented by Cagla</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#group-class">Group Class</a></li>
<li class="toctree-l4"><a class="reference internal" href="#groups-class">Groups Class</a></li>
<li class="toctree-l4"><a class="reference internal" href="#request-class">Request Class</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-class-methods-about-request">User Class (methods about request)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#requests-class">Requests Class</a></li>
<li class="toctree-l4"><a class="reference internal" href="#comment-class">Comment Class</a></li>
<li class="toctree-l4"><a class="reference internal" href="#comments-class">Comments Class</a></li>
<li class="toctree-l4"><a class="reference internal" href="#database-table-diagrams">Database Table Diagrams</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ITUCSDB1834</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Developer Guide</a> &raquo;</li>
        
      <li>Parts Implemented by Cagla</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/developer/cagla.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="parts-implemented-by-cagla">
<h1>Parts Implemented by Cagla<a class="headerlink" href="#parts-implemented-by-cagla" title="Permalink to this headline">¶</a></h1>
<div class="section" id="group-class">
<h2>Group Class<a class="headerlink" href="#group-class" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>In this class, we implement inserting new group to group table, updating group information and deleting group. And it also includes methods to inserting new member to group_user table and getting members of group from group_user table.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Group</span><span class="p">():</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">isprivate</span><span class="p">,</span> <span class="n">owner</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">give_permission</span> <span class="p">,</span><span class="n">group_id</span><span class="p">,</span><span class="n">max_number</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">isprivate</span> <span class="o">=</span> <span class="n">isprivate</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="o">=</span> <span class="n">owner</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">description</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">give_permission</span> <span class="o">=</span> <span class="n">give_permission</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">group_id</span> <span class="o">=</span> <span class="n">group_id</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">owner_name</span> <span class="o">=</span> <span class="bp">None</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">participants</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">participant_no</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">max_number</span> <span class="o">=</span> <span class="n">max_number</span>

  <span class="k">def</span> <span class="nf">read_with_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM group_table WHERE group_id = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group_id</span><span class="p">,))</span>
          <span class="n">result</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">isprivate</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">owner</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">give_permission</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">max_number</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">get_owner_name</span><span class="p">()</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">get_participants</span><span class="p">()</span>

  <span class="k">def</span> <span class="nf">get_owner_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT username FROM user_table WHERE userid = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="p">,))</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">owner_name</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

  <span class="k">def</span> <span class="nf">add_participant</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">):</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT userid FROM user_table WHERE username = </span><span class="si">%s</span><span class="s1"> &#39;</span> <span class="p">,</span> <span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="p">))</span>
          <span class="n">userid</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
          <span class="k">if</span> <span class="n">userid</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
              <span class="k">return</span> <span class="bp">False</span>
          <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_number</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">participant_no</span><span class="p">:</span>
              <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;INSERT INTO group_user VALUES(</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="p">,</span> <span class="p">(</span><span class="n">userid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">group_id</span><span class="p">))</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">participant_no</span> <span class="o">+=</span> <span class="mi">1</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">participants</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">get_owner_name</span><span class="p">()</span>
              <span class="n">new</span> <span class="o">=</span> <span class="n">New</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">username</span> <span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">owner_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">group_id</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s1">&#39;group&#39;</span> <span class="p">,</span> <span class="s1">&#39;joined&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span><span class="bp">None</span> <span class="p">)</span>
              <span class="n">new</span><span class="o">.</span><span class="n">save_to_db</span><span class="p">()</span>
              <span class="n">new_2</span> <span class="o">=</span> <span class="n">New</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">username</span> <span class="p">,</span><span class="n">username</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">group_id</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s1">&#39;group&#39;</span> <span class="p">,</span> <span class="s1">&#39;joined&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span><span class="bp">None</span> <span class="p">)</span>
              <span class="n">new_2</span><span class="o">.</span><span class="n">save_to_db</span><span class="p">()</span>
          <span class="k">else</span><span class="p">:</span>
              <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Group is already full no more place!&#39;</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">check_participant</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">userid</span><span class="p">):</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM group_user WHERE user_id = </span><span class="si">%s</span><span class="s1"> AND group_id=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="p">,</span> <span class="p">(</span><span class="n">userid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">group_id</span> <span class="p">))</span>
          <span class="k">if</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">():</span>
              <span class="k">return</span> <span class="bp">True</span>
          <span class="k">else</span><span class="p">:</span>
              <span class="k">return</span> <span class="bp">False</span>

  <span class="k">def</span> <span class="nf">delete_group</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">get_owner_name</span><span class="p">()</span>
      <span class="k">for</span> <span class="n">participant</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">participants</span><span class="p">:</span>
          <span class="n">new</span> <span class="o">=</span> <span class="n">New</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner_name</span><span class="p">,</span> <span class="n">participant</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">group_id</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s1">&#39;group&#39;</span> <span class="p">,</span> <span class="s1">&#39;deleted&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span><span class="bp">None</span> <span class="p">)</span>
          <span class="n">new</span><span class="o">.</span><span class="n">save_to_db</span><span class="p">()</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span> <span class="n">execute</span><span class="p">(</span><span class="s1">&#39;DELETE FROM group_table WHERE group_id = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group_id</span><span class="p">,))</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;UPDATE news_table SET link = </span><span class="si">%s</span><span class="s1"> WHERE group_id IS NULL AND link IS NOT NULL &#39;</span> <span class="p">,</span> <span class="p">(</span><span class="bp">None</span><span class="p">,))</span>


  <span class="k">def</span> <span class="nf">update_group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span><span class="n">isprivate</span><span class="p">,</span><span class="n">description</span><span class="p">,</span><span class="n">give_permission</span><span class="p">,</span> <span class="n">max_number</span><span class="p">):</span>
      <span class="k">if</span> <span class="n">max_number</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">participant_no</span><span class="p">:</span>
          <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;You cannot decrease max_number for this group because there are already more participants. &#39;</span><span class="p">)</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span> <span class="n">execute</span><span class="p">(</span><span class="s1">&#39;UPDATE group_table SET group_name=</span><span class="si">%s</span><span class="s1">, isprivate=</span><span class="si">%s</span><span class="s1">, description=</span><span class="si">%s</span><span class="s1">, max_number = </span><span class="si">%s</span><span class="s1">, give_permission=</span><span class="si">%s</span><span class="s1"> WHERE group_id = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="p">,</span>
                          <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">isprivate</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">max_number</span><span class="p">,</span> <span class="n">give_permission</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">group_id</span><span class="p">,))</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="n">name</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">give_permission</span><span class="o">=</span><span class="n">give_permission</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">isprivate</span><span class="o">=</span><span class="n">isprivate</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="o">=</span><span class="n">description</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">max_number</span> <span class="o">=</span> <span class="n">max_number</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">get_owner_name</span><span class="p">()</span>
      <span class="k">for</span> <span class="n">participant</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">participants</span><span class="p">:</span>
          <span class="n">new</span> <span class="o">=</span> <span class="n">New</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner_name</span><span class="p">,</span> <span class="n">participant</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">group_id</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s1">&#39;group&#39;</span> <span class="p">,</span> <span class="s1">&#39;updated&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span><span class="bp">None</span> <span class="p">)</span>
          <span class="n">new</span><span class="o">.</span><span class="n">save_to_db</span><span class="p">()</span>

  <span class="k">def</span> <span class="nf">get_participants</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT user_table.username FROM user_table RIGHT OUTER JOIN group_user ON group_user.user_id = user_table.userid WHERE group_user.group_id = </span><span class="si">%s</span><span class="s1"> &#39;</span> <span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group_id</span><span class="p">,))</span>
          <span class="n">participants</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
      <span class="k">for</span> <span class="n">participant</span> <span class="ow">in</span> <span class="n">participants</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">participants</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">participant</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">participant_no</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">participant_no</span> <span class="o">+</span><span class="mi">1</span>

  <span class="k">def</span> <span class="nf">save_to_db</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;INSERT INTO group_table(group_name, isprivate, owner, description, give_permission,max_number) VALUES(</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">);&#39;</span><span class="p">,(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">isprivate</span> <span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner</span> <span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">give_permission</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">max_number</span><span class="p">))</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT group_id FROM group_table WHERE group_name = </span><span class="si">%s</span><span class="s1"> AND owner = </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="p">))</span>
          <span class="n">result</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">group_id</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;INSERT INTO group_user(group_id,user_id) VALUES(</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">);&#39;</span> <span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group_id</span> <span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="p">))</span>
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="groups-class">
<h2>Groups Class<a class="headerlink" href="#groups-class" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>In this class, we have methods for filtering groups according to group name or group owner. Also it has methods to read the owned and joined groups from group table for current user.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Groups</span><span class="p">():</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">arr</span> <span class="o">=</span> <span class="p">[]</span>

  <span class="k">def</span> <span class="nf">owned_groups</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="nb">id</span><span class="p">):</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM group_table WHERE owner = </span><span class="si">%s</span><span class="s1"> &#39;</span> <span class="p">,</span> <span class="p">(</span><span class="nb">id</span><span class="p">,))</span>
          <span class="n">groups</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
      <span class="k">for</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">groups</span><span class="p">:</span>
          <span class="n">group</span> <span class="o">=</span> <span class="n">Group</span><span class="p">(</span><span class="n">group</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">,</span> <span class="n">group</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">,</span> <span class="nb">id</span> <span class="p">,</span> <span class="n">group</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="p">,</span> <span class="n">group</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">group</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">group</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">arr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">group</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">my_groups</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="nb">id</span><span class="p">):</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT group_table.* FROM group_user LEFT OUTER JOIN group_table ON group_user.group_id=group_table.group_id &#39;</span>
                         <span class="s1">&#39;WHERE group_user.user_id = </span><span class="si">%s</span><span class="s1"> &#39;</span><span class="p">,</span> <span class="p">(</span><span class="nb">id</span><span class="p">,))</span>
          <span class="n">groups</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
      <span class="k">for</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">groups</span><span class="p">:</span>
          <span class="n">group</span> <span class="o">=</span> <span class="n">Group</span><span class="p">(</span><span class="n">group</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">,</span> <span class="n">group</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">,</span> <span class="nb">id</span> <span class="p">,</span> <span class="n">group</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="p">,</span> <span class="n">group</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">group</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">group</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">arr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">group</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">filtered_groups</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">userid</span><span class="p">):</span>
      <span class="nb">input</span> <span class="o">=</span> <span class="s2">&quot;%&quot;</span> <span class="o">+</span> <span class="nb">input</span> <span class="o">+</span> <span class="s2">&quot;%&quot;</span>
      <span class="k">if</span> <span class="n">option</span> <span class="o">==</span> <span class="s2">&quot;Name&quot;</span><span class="p">:</span>
          <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
              <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM group_table WHERE LOWER (group_name) LIKE LOWER (</span><span class="si">%s</span><span class="s1">) AND &#39;</span>
                             <span class="s1">&#39;(isprivate=</span><span class="si">%s</span><span class="s1"> OR group_id IN (SELECT group_id FROM group_user WHERE user_id=</span><span class="si">%s</span><span class="s1">))&#39;</span><span class="p">,</span>
                             <span class="p">(</span><span class="nb">input</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">userid</span><span class="p">))</span>
              <span class="n">groups</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

      <span class="k">elif</span> <span class="n">option</span> <span class="o">==</span> <span class="s2">&quot;Owner&quot;</span><span class="p">:</span>
          <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
              <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
                  <span class="s1">&#39;SELECT * FROM group_table WHERE owner IN (SELECT userid FROM user_table WHERE LOWER (username) LIKE LOWER (</span><span class="si">%s</span><span class="s1">)) &#39;</span>
                  <span class="s1">&#39;AND (isprivate=</span><span class="si">%s</span><span class="s1"> OR group_id IN (SELECT group_id FROM group_user WHERE user_id=</span><span class="si">%s</span><span class="s1">)) &#39;</span><span class="p">,</span>
                  <span class="p">(</span><span class="nb">input</span><span class="p">,</span> <span class="bp">False</span><span class="p">))</span>
              <span class="n">groups</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

      <span class="k">for</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">groups</span><span class="p">:</span>
          <span class="n">add_group</span> <span class="o">=</span> <span class="n">Group</span><span class="p">(</span><span class="n">group</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">group</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="nb">id</span><span class="p">,</span> <span class="n">group</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">group</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">group</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">group</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">arr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">add_group</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="request-class">
<h2>Request Class<a class="headerlink" href="#request-class" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>In this class, we implement inserting new request to request table and reading the group members who upvoted request from upvote_table.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Request</span><span class="p">():</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request_id</span><span class="p">,</span> <span class="n">name</span> <span class="p">,</span> <span class="n">owner</span><span class="p">,</span> <span class="n">min_people</span><span class="p">,</span> <span class="n">up_vote</span><span class="p">,</span> <span class="n">explanation</span><span class="p">,</span> <span class="n">group_id</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">request_id</span> <span class="o">=</span> <span class="n">request_id</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">owner</span> <span class="o">=</span> <span class="n">owner</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">time_created</span> <span class="o">=</span> <span class="bp">None</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">min_people</span> <span class="o">=</span> <span class="n">min_people</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">up_vote</span> <span class="o">=</span> <span class="n">up_vote</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">explanation</span> <span class="o">=</span> <span class="n">explanation</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">group_id</span> <span class="o">=</span> <span class="n">group_id</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">upvoters</span> <span class="o">=</span> <span class="p">[]</span>


  <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">return</span> <span class="s2">&quot;&lt;User {}&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">get_group_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT group_name FROM group_table WHERE group_id = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group_id</span><span class="p">,))</span>
          <span class="k">return</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

  <span class="k">def</span> <span class="nf">save_to_db</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">time_created</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;INSERT INTO request_table(owner, name, min_people, time_created, up_vote, explanation, group_id) VALUES(</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">);&#39;</span><span class="p">,(</span><span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_people</span> <span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_created</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">up_vote</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">explanation</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">group_id</span><span class="p">))</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT request_id FROM request_table WHERE name = </span><span class="si">%s</span><span class="s1"> AND owner = </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="p">))</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">request_id</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
      <span class="n">group</span> <span class="o">=</span> <span class="n">Group</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">group_id</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
      <span class="n">group</span><span class="o">.</span><span class="n">read_with_id</span><span class="p">()</span>
      <span class="k">for</span> <span class="n">participant</span> <span class="ow">in</span> <span class="n">group</span><span class="o">.</span><span class="n">participants</span><span class="p">:</span>
          <span class="n">new</span> <span class="o">=</span> <span class="n">New</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="p">,</span> <span class="n">participant</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">group_id</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s1">&#39;group&#39;</span> <span class="p">,</span> <span class="s1">&#39;created request in&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span> <span class="p">)</span>
          <span class="n">new</span><span class="o">.</span><span class="n">save_to_db</span><span class="p">()</span>

  <span class="k">def</span> <span class="nf">get_upvoters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT username FROM user_table WHERE userid IN (SELECT user_id FROM upvote_table WHERE request_id = </span><span class="si">%s</span><span class="s2">) &quot;</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">request_id</span><span class="p">,))</span>
          <span class="n">upvoters</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
      <span class="k">for</span> <span class="n">upvoter</span> <span class="ow">in</span> <span class="n">upvoters</span><span class="p">:</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">upvoters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">upvoter</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

  <span class="k">def</span> <span class="nf">read_with_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM request_table WHERE request_id = </span><span class="si">%s</span><span class="s1"> &#39;</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">request_id</span><span class="p">,))</span>
          <span class="n">result</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">owner</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">time_created</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">min_people</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">up_vote</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">explanation</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">group_id</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">get_upvoters</span><span class="p">()</span>

  <span class="k">def</span> <span class="nf">is_upvoted</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">username</span><span class="p">):</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT userid FROM user_table WHERE username = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="p">,</span> <span class="p">(</span><span class="n">username</span><span class="p">,))</span>
          <span class="n">userid</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT COUNT(*) FROM upvote_table WHERE request_id = </span><span class="si">%s</span><span class="s1"> AND user_id = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">request_id</span><span class="p">,</span> <span class="n">userid</span><span class="p">))</span>
          <span class="n">upvote</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
      <span class="k">if</span> <span class="n">upvote</span><span class="p">:</span>
          <span class="k">return</span> <span class="bp">True</span>
      <span class="k">return</span> <span class="bp">False</span>
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="user-class-methods-about-request">
<h2>User Class (methods about request)<a class="headerlink" href="#user-class-methods-about-request" title="Permalink to this headline">¶</a></h2>
<p>User class also includes methods to delete request and upvote request(which updates upvote number column of request table.)</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">remove_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reqid</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;DELETE FROM request_table where request_id = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="p">,</span> <span class="p">(</span><span class="n">reqid</span><span class="p">,))</span>

<span class="k">def</span> <span class="nf">upvote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reqid</span><span class="p">,</span> <span class="n">vote</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
        <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT up_vote FROM request_table WHERE request_id = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="p">,</span> <span class="p">(</span><span class="n">reqid</span><span class="p">,))</span>
        <span class="n">upvote</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="c1">#for upvoting</span>
        <span class="k">if</span> <span class="n">vote</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;BEGIN TRANSACTION;&#39;</span>
                            <span class="s1">&#39;UPDATE request_table SET up_vote = </span><span class="si">%s</span><span class="s1"> where request_id = </span><span class="si">%s</span><span class="s1">;&#39;</span>
                            <span class="s1">&#39;INSERT INTO upvote_table VALUES(</span><span class="si">%s</span><span class="s1"> ,</span><span class="si">%s</span><span class="s1">);&#39;</span>
                            <span class="s1">&#39;COMMIT;&#39;</span>
                             <span class="p">,</span> <span class="p">(</span><span class="n">upvote</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">reqid</span><span class="p">,</span> <span class="n">reqid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="p">))</span>
            <span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">reqid</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
            <span class="n">request</span><span class="o">.</span><span class="n">read_with_id</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">up_vote</span> <span class="o">==</span> <span class="n">request</span><span class="o">.</span><span class="n">min_people</span><span class="p">:</span>
                <span class="n">message</span> <span class="o">=</span> <span class="s1">&#39;Request &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; in group &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">get_group_name</span><span class="p">())</span> <span class="o">+</span> <span class="s1">&#39; is fulfilled!&#39;</span>
                <span class="k">for</span> <span class="n">upvoter</span> <span class="ow">in</span> <span class="n">request</span><span class="o">.</span><span class="n">upvoters</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">upvoter</span> <span class="o">!=</span> <span class="n">request</span><span class="o">.</span><span class="n">owner</span><span class="p">:</span>
                        <span class="n">new</span> <span class="o">=</span> <span class="n">New</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">upvoter</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">group_id</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s1">&#39;group&#39;</span> <span class="p">,</span> <span class="s1">&#39;request_fulfilled&#39;</span><span class="p">,</span> <span class="bp">False</span> <span class="p">,</span> <span class="bp">None</span><span class="p">,</span><span class="n">message</span><span class="p">)</span>
                        <span class="n">new</span><span class="o">.</span><span class="n">save_to_db</span><span class="p">()</span>
                <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT group_name FROM group_table WHERE group_id = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="p">,</span> <span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">group_id</span><span class="p">,))</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">message</span> <span class="o">=</span> <span class="s1">&#39;Request &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; in group &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; is fulfilled!&#39;</span>
                <span class="n">new</span> <span class="o">=</span> <span class="n">New</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">owner</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">group_id</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s1">&#39;group&#39;</span> <span class="p">,</span> <span class="s1">&#39;request_fulfilled&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span><span class="n">message</span> <span class="p">)</span>
                <span class="n">new</span><span class="o">.</span><span class="n">save_to_db</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;BEGIN TRANSACTION;&#39;</span>
                            <span class="s1">&#39;UPDATE request_table SET up_vote = </span><span class="si">%s</span><span class="s1"> where request_id = </span><span class="si">%s</span><span class="s1">;&#39;</span>
                            <span class="s1">&#39;DELETE FROM upvote_table WHERE user_id = </span><span class="si">%s</span><span class="s1"> AND request_id = </span><span class="si">%s</span><span class="s1">;&#39;</span>
                            <span class="s1">&#39;COMMIT;&#39;</span>
                             <span class="p">,</span> <span class="p">(</span><span class="n">upvote</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">reqid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">reqid</span> <span class="p">))</span>


<span class="k">def</span> <span class="nf">is_upvoted</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">reqid</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
            <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT COUNT(*) FROM upvote_table WHERE request_id = </span><span class="si">%s</span><span class="s1"> AND user_id = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="p">,</span> <span class="p">(</span><span class="n">reqid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
            <span class="n">upvote</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">upvote</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="requests-class">
<h2>Requests Class<a class="headerlink" href="#requests-class" title="Permalink to this headline">¶</a></h2>
<p>This class is used for printing requests for chosen group which is referenced at request table.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Requests</span><span class="p">():</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">arr</span> <span class="o">=</span> <span class="p">[]</span>

  <span class="k">def</span> <span class="nf">print_requests</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">groupid</span><span class="p">):</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM request_table WHERE group_id = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="p">,</span> <span class="p">(</span><span class="n">groupid</span><span class="p">,))</span>
          <span class="n">requests</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
      <span class="k">for</span> <span class="n">request</span> <span class="ow">in</span> <span class="n">requests</span><span class="p">:</span>
          <span class="n">newrequest</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">request</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">request</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">request</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">request</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">request</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">request</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="n">request</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
          <span class="n">newrequest</span><span class="o">.</span><span class="n">read_with_id</span><span class="p">()</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">arr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newrequest</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="comment-class">
<h2>Comment Class<a class="headerlink" href="#comment-class" title="Permalink to this headline">¶</a></h2>
<p>In this class, we implement inserting new comments to comment table, updating comment and deleting comment.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Comment</span><span class="p">():</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">comment_id</span><span class="p">,</span> <span class="n">owner</span><span class="p">,</span> <span class="n">comment</span><span class="p">,</span> <span class="n">subject</span><span class="p">,</span> <span class="n">event_id</span><span class="p">,</span> <span class="n">is_edited</span><span class="p">,</span> <span class="n">send_notification</span> <span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">comment_id</span> <span class="o">=</span> <span class="n">comment_id</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">owner</span> <span class="o">=</span> <span class="n">owner</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="bp">None</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">subject</span> <span class="o">=</span> <span class="n">subject</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">event_id</span> <span class="o">=</span> <span class="n">event_id</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">is_edited</span> <span class="o">=</span> <span class="n">is_edited</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">send_notification</span> <span class="o">=</span> <span class="n">send_notification</span>

  <span class="k">def</span> <span class="nf">save_to_db</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;INSERT INTO comment_table(owner,time,comment,subject,event_id,is_edited,send_notification) VALUES(</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">)&#39;</span><span class="p">,</span>
           <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">subject</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">event_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_edited</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_notification</span><span class="p">))</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_notification</span><span class="p">:</span>
          <span class="n">event</span> <span class="o">=</span>  <span class="n">Event</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
          <span class="n">event</span><span class="o">.</span><span class="n">read_with_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">event_id</span><span class="p">)</span>
          <span class="k">for</span> <span class="n">participant</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">participant_arr</span><span class="p">:</span>
              <span class="n">new</span> <span class="o">=</span> <span class="n">New</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="p">,</span> <span class="n">participant</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">group_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">event_id</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s1">&#39;event&#39;</span> <span class="p">,</span> <span class="s1">&#39;commented&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">None</span> <span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
              <span class="n">new</span><span class="o">.</span><span class="n">save_to_db</span><span class="p">()</span>


  <span class="k">def</span> <span class="nf">delete_comment</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;DELETE FROM comment_table WHERE comment_id = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">comment_id</span><span class="p">,))</span>

  <span class="k">def</span> <span class="nf">update_comment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">comment</span><span class="p">,</span> <span class="n">subject</span><span class="p">,</span> <span class="n">notif</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">comment</span> <span class="o">=</span> <span class="n">comment</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">subject</span> <span class="o">=</span> <span class="n">subject</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">send_notification</span> <span class="o">=</span> <span class="n">notif</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;UPDATE comment_table SET comment = </span><span class="si">%s</span><span class="s1">, subject = </span><span class="si">%s</span><span class="s1">, send_notification = </span><span class="si">%s</span><span class="s1">, is_edited = </span><span class="si">%s</span><span class="s1">, time = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">comment</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">subject</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_notification</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="p">))</span>

      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_notification</span><span class="p">:</span>
          <span class="n">event</span> <span class="o">=</span>  <span class="n">Event</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
          <span class="n">event</span><span class="o">.</span><span class="n">read_with_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">event_id</span><span class="p">)</span>
          <span class="k">for</span> <span class="n">participant</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">participant_arr</span><span class="p">:</span>
              <span class="n">new</span> <span class="o">=</span> <span class="n">New</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">owner</span><span class="p">,</span> <span class="n">participant</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">group_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">event_id</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s1">&#39;event&#39;</span> <span class="p">,</span> <span class="s1">&#39;updated the comment&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">None</span> <span class="p">)</span>
              <span class="n">new</span><span class="o">.</span><span class="n">save_to_db</span><span class="p">()</span>

  <span class="k">def</span> <span class="nf">get_eventid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT event_id FROM comment_table WHERE comment_id = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">comment_id</span><span class="p">,))</span>
          <span class="nb">id</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
      <span class="k">return</span> <span class="nb">id</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="comments-class">
<h2>Comments Class<a class="headerlink" href="#comments-class" title="Permalink to this headline">¶</a></h2>
<p>This class is used for printing comments for chosen event which is referenced at event table.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Comments</span><span class="p">():</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">comments</span> <span class="o">=</span> <span class="p">[]</span>

  <span class="k">def</span> <span class="nf">print_comments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
      <span class="k">with</span> <span class="n">ConnectionPool</span><span class="p">()</span> <span class="k">as</span> <span class="n">cursor</span><span class="p">:</span>
          <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM comment_table WHERE event_id = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="p">,(</span><span class="n">event</span><span class="p">,))</span>
          <span class="n">comments</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
      <span class="k">for</span> <span class="n">comment</span> <span class="ow">in</span> <span class="n">comments</span><span class="p">:</span>
          <span class="n">temp</span> <span class="o">=</span> <span class="n">Comment</span><span class="p">(</span><span class="n">comment</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">comment</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">comment</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">comment</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">comment</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">comment</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">comment</span><span class="p">[</span><span class="mi">7</span><span class="p">])</span>
          <span class="n">temp</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="n">comment</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">comments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="database-table-diagrams">
<h2>Database Table Diagrams<a class="headerlink" href="#database-table-diagrams" title="Permalink to this headline">¶</a></h2>
<div class="section" id="group-table">
<h3>Group Table<a class="headerlink" href="#group-table" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><div class="figure">
<a class="reference internal image-reference" href="../_images/group_table.jpeg"><img alt="Database Relation" src="../_images/group_table.jpeg" style="width: 314.5px; height: 401.5px;" /></a>
</div>
</div></blockquote>
</div>
<div class="section" id="request-table">
<h3>Request Table<a class="headerlink" href="#request-table" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><div class="figure">
<a class="reference internal image-reference" href="../_images/request_table.jpeg"><img alt="Database Relation" src="../_images/request_table.jpeg" style="width: 333.5px; height: 223.5px;" /></a>
</div>
</div></blockquote>
</div>
<div class="section" id="upvote-table">
<h3>Upvote Table<a class="headerlink" href="#upvote-table" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><div class="figure">
<a class="reference internal image-reference" href="../_images/upvote_table.jpeg"><img alt="Database Relation" src="../_images/upvote_table.jpeg" style="width: 236.0px; height: 230.5px;" /></a>
</div>
</div></blockquote>
</div>
<div class="section" id="comment-table">
<h3>Comment Table<a class="headerlink" href="#comment-table" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><div class="figure">
<a class="reference internal image-reference" href="../_images/comment_table.jpeg"><img alt="Database Relation" src="../_images/comment_table.jpeg" style="width: 261.5px; height: 248.0px;" /></a>
</div>
</div></blockquote>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="idil.html" class="btn btn-neutral" title="Parts Implemented by Idil" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, ITUCSDB1834

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>